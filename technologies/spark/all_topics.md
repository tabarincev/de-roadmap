# Spark Roadmap

## Компоненты Spark
- Spark SQL
- Spark Streaming
- Spark MLlib
- Spark GraphX

## Примеры чтения форматов
- Доступные форматы (стр 216)
- Проблемы чтения (стр 215)
- Чтение из базы данных
- Структурированные потоки и дескретизированные
- Spark SQL

## Схема данных
- StructuredSchema

## Преобразования и действия (transforms & actions)
- Transforms
- Actions

## Оптимизатор Catalyst
- explain()
- DAG


## Local vs Cluster vs Interactive mode (стр 153)
- **локальный режим (local mode)** – предпочитаемый разработчиками, так как все работает на одном компьютере и не требует какой-либо специальной конфигурации;
- **режим кластера (cluster mode)** – через диспетчер ресурсов, который развертывает приложение в кластере;
- **интерактивный режим (interactive mode)** – взаимодействие напря- мую или через виртуальную блокнотную среду, которую, вероятнее всего, предпочитают научные работники и экспериментаторы в об- ласти обработки данных.


## Компоненты Spark приложения (стр 169)
![arch](https://f133fde2.rocketcdn.me/wp-content/uploads/2020/07/apache-spark-architecture.png)

- Драйвер (Приложение) Driver
- Исполнитель (Executor)
- Cluster Manager


## Spark UI
- Информация о кластере
- Работающие приложения
- Завершенные приложения и их состояние

## UDF & UDAF
- Создание udf
- Использование udf с api 
- Использование udf с sql
- Ограничения udf


## Кэширование и копирование данных в контрольных точках
- cache() & persist()
    - уровни хранения данных 
        - MEMORY_ONLY – это уровень по умолчанию. На нем сохраняется RDD, формирующий фрейм данных, как десериализованные объекты Java в виртуальной машине JVM. Если RDD не умещается в памяти, то Spark не будет кешировать разделы, а при необходимости вы- полнит восстановительные вычисления. Пользователь об этом не уведомляется;
        - MEMORY_AND_DISK – аналогичен уровню MEMORY_ONLY, но когда Spark ис- черпывает всю доступную память, он сериализует RDD на диск. Это медленнее, так как диск более медленное устройство, но произво- дительность будет различной в зависимости от класса хранилища на узле (например, NVM-накопители по сравнению с механически- ми накопителями);
        - MEMORY_ONLY_SER – аналогичен уровню MEMORY_ONLY, но объекты Java се- риализуются. Это требует меньшего пространства памяти, но под- готовка потребляет больше процессорного времени;
        - MEMORY_AND_DISK_SER – аналогичен уровню MEMORY_AND_DISK, но с сериа- лизацией;
        - DISK_ONLY – на диск сохраняются разделы RDD, формирующие фрейм данных;
        - OFF_HEAP – поведение аналогично уровню MEMORY_ONLY_SER, но здесь используется память вне кучи. Память вне кучи требует активиза- ции (см. в подразделе 16.1.3 более подробное описание управления памятью).
    - освобождение с unpersist
    - storageLevel()
- checkpoint() (стр 431)

## Delta Lake
- Delta Lake – это база данных (БД) в ядре инфраструктуры Spark
- Необходимость 
- Использование (стр 468)
- Потребление данных из Delta Lake


## Управление ресурсами с помощью YARN, Mesos и K8S (стр 479)
- Выбор правильного менеджера ресурсов (стр 486)

## Безопасность (стр 493)
- Сетевые компоненты
- Использование диска

## Справочник преобразований и действий
- Преобразования
- Действия

## Установка Spark
- Процесс
- Конфигурация


## Тестирование
- Build-In функции
- Unittest
- PyTest










